<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui" xmlns:f="http://java.sun.com/jsf/core">
<h:head>
    <title>RKBudget - #{msg.title_registration}</title>
</h:head>
<h:body>
    <h:form id="registrationForm">
        <div class="ui-fluid">
            <div class="ui-g">
                <div class="ui-xl-5 ui-g-4">
                    <!-- empty -->
                </div>
                <div class="ui-xl-2 ui-g-4">
                    <p:panel header="#{msg.entry_panel_header}">
                        <p:messages showDetail="true"/>
                        <p:panelGrid columns="2"
                                     layout="grid"
                                     columnClasses="ui-grid-col-5, ui-grid-col-7"
                                     styleClass="ui-panelgrid-blank">
                            <p:outputLabel for="firstName"
                                           value="#{msg.entry_label_firstName}"/>
                            <p:inputText id="firstName"
                                         value="#{entryController.firstName}"
                                         required="true"/>

                            <p:outputLabel for="lastName"
                                           value="#{msg.entry_label_lastName}"/>
                            <p:inputText id="lastName"
                                         value="#{entryController.lastName}"
                                         required="true"/>

                            <p:outputLabel for="userName"
                                           value="#{msg.entry_label_userName}"/>
                            <p:inputText id="userName"
                                         value="#{entryController.userName}"/>

                            <p:outputLabel for="email"
                                           value="#{msg.entry_label_email}"/>
                            <p:inputText id="email"
                                         value="#{entryController.email}"
                                         required="true">
                                <f:validator binding="#{emailValidator}"/>
                            </p:inputText>

                            <p:outputLabel for="password"
                                           value="#{msg.entry_label_password}"/>
                            <p:password id="password"
                                        value="#{entryController.password}"
                                        match="passwordConfirmation"
                                        required="true"/>

                            <p:outputLabel for="passwordConfirmation"
                                           value="#{msg.entry_label_passwordConfirmation}"/>
                            <p:password id="passwordConfirmation"
                                        type="hidden"
                                        required="true"/>

                            <h:panelGrid/>
                            <p:commandButton value="#{msg.entry_button_register}"
                                             icon="fa fa-fw fa-sign-in"
                                             action="#{entryController.registerUser}"
                                             update="@form"/>
                        </p:panelGrid>
                    </p:panel>
                    <p:panel header="#{msg.entry_panel_successfulPanel}"
                             rendered="#{entryController.registered and entryController.submitted}">
                        <p:outputLabel value="#{msg.entry_label_successfulRegistration}"/>
                        <p:link value="#{msg.entry_link_login}"
                                outcome="login"/>
                    </p:panel>
                    <p:panel header="#{msg.entry_panel_unsuccessfulPanel}"
                             rendered="#{!entryController.registered and entryController.submitted}">
                        <p:outputLabel value="#{msg.entry_error_emailAlreadyExists}"/>
                    </p:panel>
                </div>
                <div class="ui-xl-5 ui-g-4">
                    <!-- empty -->
                </div>
            </div>
        </div>
    </h:form>
    <h:outputStylesheet name="css/style.css"/>
</h:body>
</html>